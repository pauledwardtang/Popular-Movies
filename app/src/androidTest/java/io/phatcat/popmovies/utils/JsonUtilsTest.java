package io.phatcat.popmovies.utils;


import org.junit.Test;
import org.junit.runner.RunWith;

import java.util.List;

import androidx.test.ext.junit.runners.AndroidJUnit4;
import io.phatcat.popmovies.model.Movie;

import static org.hamcrest.CoreMatchers.not;
import static org.hamcrest.CoreMatchers.notNullValue;
import static org.hamcrest.MatcherAssert.assertThat;
import static org.hamcrest.Matchers.empty;
import static org.hamcrest.Matchers.hasSize;
import static org.hamcrest.Matchers.is;

@RunWith(AndroidJUnit4.class)
public class JsonUtilsTest {
    private static final String sampleMovie = "{\"adult\":false,\"backdrop_path\":\"/87hTDiay2N2qWyX4Ds7ybXi9h8I.jpg\",\"belongs_to_collection\":null,\"budget\":63000000,\"genres\":[{\"id\":18,\"name\":\"Drama\"}],\"homepage\":\"http://www.foxmovies.com/movies/fight-club\",\"id\":550,\"imdb_id\":\"tt0137523\",\"original_language\":\"en\",\"original_title\":\"Fight Club\",\"overview\":\"A ticking-time-bomb insomniac and a slippery soap salesman channel primal male aggression into a shocking new form of therapy. Their concept catches on, with underground \\\"fight clubs\\\" forming in every town, until an eccentric gets in the way and ignites an out-of-control spiral toward oblivion.\",\"popularity\":26.222,\"poster_path\":\"/adw6Lq9FiC9zjYEpOqfq03ituwp.jpg\",\"production_companies\":[{\"id\":508,\"logo_path\":\"/7PzJdsLGlR7oW4J0J5Xcd0pHGRg.png\",\"name\":\"Regency Enterprises\",\"origin_country\":\"US\"},{\"id\":711,\"logo_path\":\"/tEiIH5QesdheJmDAqQwvtN60727.png\",\"name\":\"Fox 2000 Pictures\",\"origin_country\":\"US\"},{\"id\":20555,\"logo_path\":null,\"name\":\"Taurus Film\",\"origin_country\":\"\"},{\"id\":54051,\"logo_path\":null,\"name\":\"Atman Entertainment\",\"origin_country\":\"\"},{\"id\":54052,\"logo_path\":null,\"name\":\"Knickerbocker Films\",\"origin_country\":\"US\"},{\"id\":25,\"logo_path\":\"/qZCc1lty5FzX30aOCVRBLzaVmcp.png\",\"name\":\"20th Century Fox\",\"origin_country\":\"US\"},{\"id\":4700,\"logo_path\":\"/A32wmjrs9Psf4zw0uaixF0GXfxq.png\",\"name\":\"The Linson Company\",\"origin_country\":\"\"}],\"production_countries\":[{\"iso_3166_1\":\"DE\",\"name\":\"Germany\"},{\"iso_3166_1\":\"US\",\"name\":\"United States of America\"}],\"release_date\":\"1999-10-15\",\"revenue\":100853753,\"runtime\":139,\"spoken_languages\":[{\"iso_639_1\":\"en\",\"name\":\"English\"}],\"status\":\"Released\",\"tagline\":\"Mischief. Mayhem. Soap.\",\"title\":\"Fight Club\",\"video\":false,\"vote_average\":8.4,\"vote_count\":14788}";
    private static final String popularMovies = "{\"page\":1,\"total_results\":19830,\"total_pages\":992,\"results\":[{\"vote_count\":1849,\"id\":297802,\"video\":false,\"vote_average\":7,\"title\":\"Aquaman\",\"popularity\":646.819,\"poster_path\":\"\\/5Kg76ldv7VxeX9YlcQXiowHgdX6.jpg\",\"original_language\":\"en\",\"original_title\":\"Aquaman\",\"genre_ids\":[28,14,878,12],\"backdrop_path\":\"\\/5A2bMlLfJrAfX9bqAibOL2gCruF.jpg\",\"adult\":false,\"overview\":\"Arthur Curry learns that he is the heir to the underwater kingdom of Atlantis, and must step forward to lead his people and be a hero to the world.\",\"release_date\":\"2018-12-07\"},{\"vote_count\":543,\"id\":424783,\"video\":false,\"vote_average\":6.6,\"title\":\"Bumblebee\",\"popularity\":401.273,\"poster_path\":\"\\/fw02ONlDhrYjTSZV8XO6hhU3ds3.jpg\",\"original_language\":\"en\",\"original_title\":\"Bumblebee\",\"genre_ids\":[28,12,878],\"backdrop_path\":\"\\/8bZ7guF94ZyCzi7MLHzXz6E5Lv8.jpg\",\"adult\":false,\"overview\":\"On the run in the year 1987, Bumblebee finds refuge in a junkyard in a small Californian beach town. Charlie, on the cusp of turning 18 and trying to find her place in the world, discovers Bumblebee, battle-scarred and broken.  When Charlie revives him, she quickly learns this is no ordinary yellow VW bug.\",\"release_date\":\"2018-12-15\"},{\"vote_count\":2097,\"id\":405774,\"video\":false,\"vote_average\":7.3,\"title\":\"Bird Box\",\"popularity\":281.805,\"poster_path\":\"\\/rGfGfgL2pEPCfhIvqHXieXFn7gp.jpg\",\"original_language\":\"en\",\"original_title\":\"Bird Box\",\"genre_ids\":[53,18,878,27],\"backdrop_path\":\"\\/z6m7s4w4Erxnr5k2jc1TZR1AMva.jpg\",\"adult\":false,\"overview\":\"When a mysterious force decimates the world’s population, only one thing is certain: if you see it, you take your life. Facing the unknown, Malorie finds love, hope and a new beginning only for it to unravel. Now she must flee with her two children down a treacherous river to the one place left that may offer sanctuary. But to survive, they'll have to undertake the perilous two-day journey blindfolded.\",\"release_date\":\"2018-12-13\"},{\"vote_count\":3995,\"id\":335983,\"video\":false,\"vote_average\":6.5,\"title\":\"Venom\",\"popularity\":237.908,\"poster_path\":\"\\/2uNW4WbgBXL25BAbXGLnLqX71Sw.jpg\",\"original_language\":\"en\",\"original_title\":\"Venom\",\"genre_ids\":[878],\"backdrop_path\":\"\\/VuukZLgaCrho2Ar8Scl9HtV3yD.jpg\",\"adult\":false,\"overview\":\"Investigative journalist Eddie Brock attempts a comeback following a scandal, but accidentally becomes the host of Venom, a violent, super powerful alien symbiote. Soon, he must rely on his newfound powers to protect the world from a shadowy organization looking for a symbiote of their own.\",\"release_date\":\"2018-10-03\"},{\"vote_count\":464,\"id\":400650,\"video\":false,\"vote_average\":7,\"title\":\"Mary Poppins Returns\",\"popularity\":235.072,\"poster_path\":\"\\/uTVGku4LibMGyKgQvjBtv3OYfAX.jpg\",\"original_language\":\"en\",\"original_title\":\"Mary Poppins Returns\",\"genre_ids\":[14,10402,10751,35],\"backdrop_path\":\"\\/cwiJQXezWz876K3jS57Sq56RYCZ.jpg\",\"adult\":false,\"overview\":\"In Depression-era London, a now-grown Jane and Michael Banks, along with Michael's three children, are visited by the enigmatic Mary Poppins following a personal loss. Through her unique magical skills, and with the aid of her friend Jack, she helps the family rediscover the joy and wonder missing in their lives.\",\"release_date\":\"2018-12-19\"},{\"vote_count\":2738,\"id\":338952,\"video\":false,\"vote_average\":6.9,\"title\":\"Fantastic Beasts: The Crimes of Grindelwald\",\"popularity\":228.871,\"poster_path\":\"\\/kQKcbJ9uYkTQql2R8L4jTUz7l90.jpg\",\"original_language\":\"en\",\"original_title\":\"Fantastic Beasts: The Crimes of Grindelwald\",\"genre_ids\":[10751,14,12],\"backdrop_path\":\"\\/wDN3FIcQQ1HI7mz1OOKYHSQtaiE.jpg\",\"adult\":false,\"overview\":\"Gellert Grindelwald has escaped imprisonment and has begun gathering followers to his cause—elevating wizards above all non-magical beings. The only one capable of putting a stop to him is the wizard he once called his closest friend, Albus Dumbledore. However, Dumbledore will need to seek help from the wizard who had thwarted Grindelwald once before, his former student Newt Scamander, who agrees to help, unaware of the dangers that lie ahead. Lines are drawn as love and loyalty are tested, even among the truest friends and family, in an increasingly divided wizarding world.\",\"release_date\":\"2018-11-14\"},{\"vote_count\":79,\"id\":504172,\"video\":false,\"vote_average\":6,\"title\":\"The Mule\",\"popularity\":228.509,\"poster_path\":\"\\/t0idiLMalKMj2pLsvqHrOM4LPdQ.jpg\",\"original_language\":\"en\",\"original_title\":\"The Mule\",\"genre_ids\":[80,18,53],\"backdrop_path\":\"\\/rQiFIneBiShab7siVvufRPev9oQ.jpg\",\"adult\":false,\"overview\":\"A 90-year-old horticulturalist and Korean War veteran is caught transporting $3 million worth of cocaine through Illinois for a Mexican drug cartel.\",\"release_date\":\"2018-12-14\"},{\"vote_count\":802,\"id\":324857,\"video\":false,\"vote_average\":8.5,\"title\":\"Spider-Man: Into the Spider-Verse\",\"popularity\":226.402,\"poster_path\":\"\\/laMM4lpQSh5z6KIBPwWogkjzBVQ.jpg\",\"original_language\":\"en\",\"original_title\":\"Spider-Man: Into the Spider-Verse\",\"genre_ids\":[28,12,16,878,35],\"backdrop_path\":\"\\/uUiId6cG32JSRI6RyBQSvQtLjz2.jpg\",\"adult\":false,\"overview\":\"Miles Morales is juggling his life between being a high school student and being Spider-Man. However, when Wilson \\\"Kingpin\\\" Fisk uses a super collider, another Spider-Man from another dimension, Peter Parker, accidentally winds up in Miles' dimension. As Peter trains Miles to become a better Spider-Man, they are soon joined by four other Spider-Men from across the \\\"Spider-Verse\\\". As all these clashing dimensions start to tear Brooklyn apart, Miles must help the others stop Fisk and return everyone to their own dimensions.\",\"release_date\":\"2018-12-07\"},{\"vote_count\":560,\"id\":404368,\"video\":false,\"vote_average\":7.4,\"title\":\"Ralph Breaks the Internet\",\"popularity\":221.931,\"poster_path\":\"\\/8GCoHKfNe4kK0yWhJDYKyM7Zbxk.jpg\",\"original_language\":\"en\",\"original_title\":\"Ralph Breaks the Internet\",\"genre_ids\":[10751,16,35,14],\"backdrop_path\":\"\\/uueLW3Vq0LANUaPvoPzzI6i1LeV.jpg\",\"adult\":false,\"overview\":\"Six years after the events of \\\"Wreck-It Ralph,\\\" Ralph and Vanellope, now friends, discover a wi-fi router in their arcade, leading them into a new adventure.\",\"release_date\":\"2018-11-20\"},{\"vote_count\":421,\"id\":480530,\"video\":false,\"vote_average\":6.5,\"title\":\"Creed II\",\"popularity\":201.277,\"poster_path\":\"\\/v3QyboWRoA4O9RbcsqH8tJMe8EB.jpg\",\"original_language\":\"en\",\"original_title\":\"Creed II\",\"genre_ids\":[18,28],\"backdrop_path\":\"\\/8yqLPNwNCtpOPc3XkOlkSMnghzw.jpg\",\"adult\":false,\"overview\":\"Follows Adonis Creed's life inside and outside of the ring as he deals with new found fame, issues with his family, and his continuing quest to become a champion.\",\"release_date\":\"2018-11-20\"},{\"vote_count\":0,\"id\":494113,\"video\":false,\"vote_average\":0,\"title\":\"Infected\",\"popularity\":146.572,\"poster_path\":\"\\/fX9N4ejnjX2T0pfxaMaMvChC6WL.jpg\",\"original_language\":\"no\",\"original_title\":\"Infisert\",\"genre_ids\":[53,27],\"backdrop_path\":\"\\/xNOppPb8HGXGORqTmCnTM1TlLjy.jpg\",\"adult\":false,\"overview\":\"In a post apocalyptic world, former drugstore employee Victoria Hansteen must look to her past in order to save the future of mankind after a virus has turned most of humanity into rabid killers.\",\"release_date\":\"2018-12-31\"},{\"vote_count\":10511,\"id\":299536,\"video\":false,\"vote_average\":8.3,\"title\":\"Avengers: Infinity War\",\"popularity\":134.61,\"poster_path\":\"\\/7WsyChQLEftFiDOVTGkv3hFpyyt.jpg\",\"original_language\":\"en\",\"original_title\":\"Avengers: Infinity War\",\"genre_ids\":[12,28,14],\"backdrop_path\":\"\\/bOGkgRGdhrBYJSLpXaxhXVstddV.jpg\",\"adult\":false,\"overview\":\"As the Avengers and their allies have continued to protect the world from threats too large for any one hero to handle, a new danger has emerged from the cosmic shadows: Thanos. A despot of intergalactic infamy, his goal is to collect all six Infinity Stones, artifacts of unimaginable power, and use them to inflict his twisted will on all of reality. Everything the Avengers have fought for has led up to this moment - the fate of Earth and existence itself has never been more uncertain.\",\"release_date\":\"2018-04-25\"},{\"vote_count\":443,\"id\":428078,\"video\":false,\"vote_average\":6.1,\"title\":\"Mortal Engines\",\"popularity\":131.538,\"poster_path\":\"\\/uXJVpPXxZO4L8Rz3IG1Y8XvZJcg.jpg\",\"original_language\":\"en\",\"original_title\":\"Mortal Engines\",\"genre_ids\":[878,28,12],\"backdrop_path\":\"\\/rxYG6Sj95as9rv9wKIHUx6ATWd3.jpg\",\"adult\":false,\"overview\":\"Set in a world many thousands of years in the future. Earth’s cities now roam the globe on huge wheels, devouring each other in a struggle for ever diminishing resources. On one of these massive Traction Cities, Tom Natsworthy has an unexpected encounter with a mysterious young woman from the Outlands who will change the course of his life forever.\",\"release_date\":\"2018-12-06\"},{\"vote_count\":1297,\"id\":424139,\"video\":false,\"vote_average\":6.4,\"title\":\"Halloween\",\"popularity\":130.595,\"poster_path\":\"\\/bXs0zkv2iGVViZEy78teg2ycDBm.jpg\",\"original_language\":\"en\",\"original_title\":\"Halloween\",\"genre_ids\":[53,27],\"backdrop_path\":\"\\/crn09DUYgmFUPbOroxt1tQSoi0r.jpg\",\"adult\":false,\"overview\":\"Laurie Strode comes to her final confrontation with Michael Myers, the masked figure who has haunted her since she narrowly escaped his killing spree on Halloween night four decades ago.\",\"release_date\":\"2018-10-18\"},{\"vote_count\":17,\"id\":505954,\"video\":false,\"vote_average\":4.7,\"title\":\"T-34\",\"popularity\":129.973,\"poster_path\":\"\\/wNJF8R5QE6nBT7DQoKk8t6YD1MM.jpg\",\"original_language\":\"ru\",\"original_title\":\"Т-34\",\"genre_ids\":[10752,18,12],\"backdrop_path\":\"\\/vDx8XxfYjkn573bCFGF6SkdM33Q.jpg\",\"adult\":false,\"overview\":\"1941 - WWii. the second lieutenant Nikolai ivushkin, commander of a t-34, engages in an unequal battle against the tank ace Klaus Jager in a battle near moscow. His mission is more of a suicide - to destroy a dozen german tanks, all by himself. that said, luck does favour the bold. He wins the battle, barely survives, but loses his tank and lands himself in captivity for three long years... there was little to no chance for ivushkin and Jager to meet again, but the war knows how to throw a curve ball.in the spring of 1944, the Wehrmacht commands Jager to take charge of the ohrdruf  re range and turn it into a training center for elite german armored forces, using the latest t-34 as a running target. this is how Jager and ivushkin cross paths again. Jager o ers ivushkin to become the commander of a legendary tank and pick his crew from fellow camp prisoners. Nothing goes according to plan, though, when ivushkin uses exercises for a daring and carefully planned escape.\",\"release_date\":\"2018-12-27\"},{\"vote_count\":487,\"id\":454293,\"video\":false,\"vote_average\":6,\"title\":\"Night School\",\"popularity\":125.747,\"poster_path\":\"\\/uQVIQDc3foTPodZw0ie1Or0CXBn.jpg\",\"original_language\":\"en\",\"original_title\":\"Night School\",\"genre_ids\":[35],\"backdrop_path\":\"\\/jJBimY3DXIaIaL4NeGHfR0U0rSh.jpg\",\"adult\":false,\"overview\":\"Teddy Walker is a successful salesman whose life takes an unexpected turn when he accidentally blows up his place of employment. Forced to attend night school to get his GED, Teddy soon finds himself dealing with a group of misfit students, his former high school nemesis and a feisty teacher who doesn't think he's too bright.\",\"release_date\":\"2018-09-27\"},{\"vote_count\":372,\"id\":375588,\"video\":false,\"vote_average\":5.9,\"title\":\"Robin Hood\",\"popularity\":122.916,\"poster_path\":\"\\/AiRfixFcfTkNbn2A73qVJPlpkUo.jpg\",\"original_language\":\"en\",\"original_title\":\"Robin Hood\",\"genre_ids\":[12,28,53],\"backdrop_path\":\"\\/AuA50D7T7S7OEVcGo0ZKaMhERn0.jpg\",\"adult\":false,\"overview\":\"A war-hardened Crusader and his Moorish commander mount an audacious revolt against the corrupt English crown.\",\"release_date\":\"2018-11-20\"},{\"vote_count\":594,\"id\":446021,\"video\":false,\"vote_average\":6.7,\"title\":\"Bad Times at the El Royale\",\"popularity\":120.445,\"poster_path\":\"\\/qExufIc4Rw0e4xdVZlhMdmEDGES.jpg\",\"original_language\":\"en\",\"original_title\":\"Bad Times at the El Royale\",\"genre_ids\":[53,80,9648,18],\"backdrop_path\":\"\\/gb3TVVZNNxVGNfS1NxGaiWZfwnW.jpg\",\"adult\":false,\"overview\":\"Lake Tahoe, 1969. Seven strangers, each one with a secret to bury, meet at El Royale, a decadent motel with a dark past. In the course of a fateful night, everyone will have one last shot at redemption.\",\"release_date\":\"2018-10-04\"},{\"vote_count\":1433,\"id\":346910,\"video\":false,\"vote_average\":5.2,\"title\":\"The Predator\",\"popularity\":120.329,\"poster_path\":\"\\/wMq9kQXTeQCHUZOG4fAe5cAxyUA.jpg\",\"original_language\":\"en\",\"original_title\":\"The Predator\",\"genre_ids\":[878,28,53,12],\"backdrop_path\":\"\\/f4E0ocYeToEuXvczZv6QArrMDJ.jpg\",\"adult\":false,\"overview\":\"When a kid accidentally triggers the universe's most lethal hunters' return to Earth, only a ragtag crew of ex-soldiers and a disgruntled female scientist can prevent the end of the human race.\",\"release_date\":\"2018-09-05\"},{\"vote_count\":3239,\"id\":424694,\"video\":false,\"vote_average\":8.2,\"title\":\"Bohemian Rhapsody\",\"popularity\":114.873,\"poster_path\":\"\\/lHu1wtNaczFPGFDTrjCSzeLPTKN.jpg\",\"original_language\":\"en\",\"original_title\":\"Bohemian Rhapsody\",\"genre_ids\":[18,10402],\"backdrop_path\":\"\\/pbXgLEYh8rlG2Km5IGZPnhcnuSz.jpg\",\"adult\":false,\"overview\":\"Singer Freddie Mercury, guitarist Brian May, drummer Roger Taylor and bass guitarist John Deacon take the music world by storm when they form the rock 'n' roll band Queen in 1970. Hit songs become instant classics. When Mercury's increasingly wild lifestyle starts to spiral out of control, Queen soon faces its greatest challenge yet – finding a way to keep the band together amid the success and excess.\",\"release_date\":\"2018-10-24\"}]}";
    private static final String topRatedMovies = "{\"page\":1,\"total_results\":6687,\"total_pages\":335,\"results\":[{\"vote_count\":1956,\"id\":19404,\"video\":false,\"vote_average\":9.1,\"title\":\"Dilwale Dulhania Le Jayenge\",\"popularity\":18.394,\"poster_path\":\"\\/uC6TTUhPpQCmgldGyYveKRAu8JN.jpg\",\"original_language\":\"hi\",\"original_title\":\"दिलवाले दुल्हनिया ले जायेंगे\",\"genre_ids\":[35,18,10749],\"backdrop_path\":\"\\/nl79FQ8xWZkhL3rDr1v2RFFR6J0.jpg\",\"adult\":false,\"overview\":\"Raj is a rich, carefree, happy-go-lucky second generation NRI. Simran is the daughter of Chaudhary Baldev Singh, who in spite of being an NRI is very strict about adherence to Indian values. Simran has left for India to be married to her childhood fiancé. Raj leaves for India with a mission at his hands, to claim his lady love under the noses of her whole family. Thus begins a saga.\",\"release_date\":\"1995-10-20\"},{\"vote_count\":11828,\"id\":278,\"video\":false,\"vote_average\":8.6,\"title\":\"The Shawshank Redemption\",\"popularity\":39.887,\"poster_path\":\"\\/9O7gLzmreU0nGkIB6K3BsJbzvNv.jpg\",\"original_language\":\"en\",\"original_title\":\"The Shawshank Redemption\",\"genre_ids\":[18,80],\"backdrop_path\":\"\\/j9XKiZrVeViAixVRzCta7h1VU9W.jpg\",\"adult\":false,\"overview\":\"Framed in the 1940s for the double murder of his wife and her lover, upstanding banker Andy Dufresne begins a new life at the Shawshank prison, where he puts his accounting skills to work for an amoral warden. During his long stretch in prison, Dufresne comes to be admired by the other inmates -- including an older prisoner named Red -- for his integrity and unquenchable sense of hope.\",\"release_date\":\"1994-09-23\"},{\"vote_count\":9062,\"id\":238,\"video\":false,\"vote_average\":8.6,\"title\":\"The Godfather\",\"popularity\":34.03,\"poster_path\":\"\\/rPdtLWNsZmAtoZl9PK7S2wE3qiS.jpg\",\"original_language\":\"en\",\"original_title\":\"The Godfather\",\"genre_ids\":[18,80],\"backdrop_path\":\"\\/6xKCYgH16UuwEGAyroLU6p8HLIn.jpg\",\"adult\":false,\"overview\":\"Spanning the years 1945 to 1955, a chronicle of the fictional Italian-American Corleone crime family. When organized crime family patriarch, Vito Corleone barely survives an attempt on his life, his youngest son, Michael steps in to take care of the would-be killers, launching a campaign of bloody revenge.\",\"release_date\":\"1972-03-14\"},{\"vote_count\":3423,\"id\":372058,\"video\":false,\"vote_average\":8.6,\"title\":\"Your Name.\",\"popularity\":27.04,\"poster_path\":\"\\/xq1Ugd62d23K2knRUx6xxuALTZB.jpg\",\"original_language\":\"ja\",\"original_title\":\"君の名は。\",\"genre_ids\":[10749,16,18],\"backdrop_path\":\"\\/6vkhRvsRvWpmaRVyCXaxTkIEb7j.jpg\",\"adult\":false,\"overview\":\"High schoolers Mitsuha and Taki are complete strangers living separate lives. But one night, they suddenly switch places. Mitsuha wakes up in Taki’s body, and he in hers. This bizarre occurrence continues to happen randomly, and the two must adjust their lives around each other.\",\"release_date\":\"2016-08-26\"},{\"vote_count\":802,\"id\":324857,\"video\":false,\"vote_average\":8.5,\"title\":\"Spider-Man: Into the Spider-Verse\",\"popularity\":226.402,\"poster_path\":\"\\/laMM4lpQSh5z6KIBPwWogkjzBVQ.jpg\",\"original_language\":\"en\",\"original_title\":\"Spider-Man: Into the Spider-Verse\",\"genre_ids\":[28,12,16,878,35],\"backdrop_path\":\"\\/uUiId6cG32JSRI6RyBQSvQtLjz2.jpg\",\"adult\":false,\"overview\":\"Miles Morales is juggling his life between being a high school student and being Spider-Man. However, when Wilson \\\"Kingpin\\\" Fisk uses a super collider, another Spider-Man from another dimension, Peter Parker, accidentally winds up in Miles' dimension. As Peter trains Miles to become a better Spider-Man, they are soon joined by four other Spider-Men from across the \\\"Spider-Verse\\\". As all these clashing dimensions start to tear Brooklyn apart, Miles must help the others stop Fisk and return everyone to their own dimensions.\",\"release_date\":\"2018-12-07\"},{\"vote_count\":7060,\"id\":424,\"video\":false,\"vote_average\":8.5,\"title\":\"Schindler's List\",\"popularity\":26.731,\"poster_path\":\"\\/yPisjyLweCl1tbgwgtzBCNCBle.jpg\",\"original_language\":\"en\",\"original_title\":\"Schindler's List\",\"genre_ids\":[18,36,10752],\"backdrop_path\":\"\\/cTNYRUTXkBgPH3wP3kmPUB5U6dA.jpg\",\"adult\":false,\"overview\":\"The true story of how businessman Oskar Schindler saved over a thousand Jewish lives from the Nazis while they worked as slaves in his factory during World War II.\",\"release_date\":\"1993-12-15\"},{\"vote_count\":5288,\"id\":240,\"video\":false,\"vote_average\":8.5,\"title\":\"The Godfather: Part II\",\"popularity\":19.771,\"poster_path\":\"\\/bVq65huQ8vHDd1a4Z37QtuyEvpA.jpg\",\"original_language\":\"en\",\"original_title\":\"The Godfather: Part II\",\"genre_ids\":[18,80],\"backdrop_path\":\"\\/gLbBRyS7MBrmVUNce91Hmx9vzqI.jpg\",\"adult\":false,\"overview\":\"In the continuing saga of the Corleone crime family, a young Vito Corleone grows up in Sicily and in 1910s New York. In the 1950s, Michael Corleone attempts to expand the family business into Las Vegas, Hollywood and Cuba.\",\"release_date\":\"1974-12-20\"},{\"vote_count\":6569,\"id\":129,\"video\":false,\"vote_average\":8.5,\"title\":\"Spirited Away\",\"popularity\":24.073,\"poster_path\":\"\\/oRvMaJOmapypFUcQqpgHMZA6qL9.jpg\",\"original_language\":\"ja\",\"original_title\":\"千と千尋の神隠し\",\"genre_ids\":[16,10751,14],\"backdrop_path\":\"\\/mnpRKVSXBX6jb56nabvmGKA0Wig.jpg\",\"adult\":false,\"overview\":\"A young girl, Chihiro, becomes trapped in a strange new world of spirits. When her parents undergo a mysterious transformation, she must call upon the courage she never knew she had to free her family.\",\"release_date\":\"2001-07-20\"},{\"vote_count\":6433,\"id\":637,\"video\":false,\"vote_average\":8.4,\"title\":\"Life Is Beautiful\",\"popularity\":19.666,\"poster_path\":\"\\/f7DImXDebOs148U4uPjI61iDvaK.jpg\",\"original_language\":\"it\",\"original_title\":\"La vita è bella\",\"genre_ids\":[35,18],\"backdrop_path\":\"\\/bORe0eI72D874TMawOOFvqWS6Xe.jpg\",\"adult\":false,\"overview\":\"A touching story of an Italian book seller of Jewish ancestry who lives in his own little fairy tale. His creative and happy life would come to an abrupt halt when his entire family is deported to a concentration camp during World War II. While locked up he tries to convince his son that the whole thing is just a game.\",\"release_date\":\"1997-12-20\"},{\"vote_count\":7210,\"id\":497,\"video\":false,\"vote_average\":8.4,\"title\":\"The Green Mile\",\"popularity\":25.308,\"poster_path\":\"\\/sOHqdY1RnSn6kcfAHKu28jvTebE.jpg\",\"original_language\":\"en\",\"original_title\":\"The Green Mile\",\"genre_ids\":[14,18,80],\"backdrop_path\":\"\\/Rlt20sEbOQKPVjia7lUilFm49W.jpg\",\"adult\":false,\"overview\":\"A supernatural tale set on death row in a Southern prison, where gentle giant John Coffey possesses the mysterious power to heal people's ailments. When the cell block's head guard, Paul Edgecomb, recognizes Coffey's miraculous gift, he tries desperately to help stave off the condemned man's execution.\",\"release_date\":\"1999-12-10\"},{\"vote_count\":13609,\"id\":680,\"video\":false,\"vote_average\":8.4,\"title\":\"Pulp Fiction\",\"popularity\":34.272,\"poster_path\":\"\\/dM2w364MScsjFf8pfMbaWUcWrR.jpg\",\"original_language\":\"en\",\"original_title\":\"Pulp Fiction\",\"genre_ids\":[53,80],\"backdrop_path\":\"\\/4cDFJr4HnXN5AdPw4AKrmLlMWdO.jpg\",\"adult\":false,\"overview\":\"A burger-loving hit man, his philosophical partner, a drug-addled gangster's moll and a washed-up boxer converge in this sprawling, comedic crime caper. Their adventures unfurl in three stories that ingeniously trip back and forth in time.\",\"release_date\":\"1994-09-10\"},{\"vote_count\":4331,\"id\":539,\"video\":false,\"vote_average\":8.4,\"title\":\"Psycho\",\"popularity\":19.969,\"poster_path\":\"\\/81d8oyEFgj7FlxJqSDXWr8JH8kV.jpg\",\"original_language\":\"en\",\"original_title\":\"Psycho\",\"genre_ids\":[18,27,53,9648],\"backdrop_path\":\"\\/12RDCQZNYQib19nep7sgOy5Mxij.jpg\",\"adult\":false,\"overview\":\"When larcenous real estate clerk Marion Crane goes on the lam with a wad of cash and hopes of starting a new life, she ends up at the notorious Bates Motel, where manager Norman Bates cares for his housebound mother. The place seems quirky, but fine… until Marion decides to take a shower.\",\"release_date\":\"1960-06-16\"},{\"vote_count\":17303,\"id\":155,\"video\":false,\"vote_average\":8.4,\"title\":\"The Dark Knight\",\"popularity\":45.058,\"poster_path\":\"\\/1hRoyzDtpgMU7Dz4JF22RANzQO7.jpg\",\"original_language\":\"en\",\"original_title\":\"The Dark Knight\",\"genre_ids\":[18,28,80,53],\"backdrop_path\":\"\\/hqkIcbrOHL86UncnHIsHVcVmzue.jpg\",\"adult\":false,\"overview\":\"Batman raises the stakes in his war on crime. With the help of Lt. Jim Gordon and District Attorney Harvey Dent, Batman sets out to dismantle the remaining criminal organizations that plague the streets. The partnership proves to be effective, but they soon find themselves prey to a reign of chaos unleashed by a rising criminal mastermind known to the terrified citizens of Gotham as the Joker.\",\"release_date\":\"2008-07-16\"},{\"vote_count\":14775,\"id\":550,\"video\":false,\"vote_average\":8.4,\"title\":\"Fight Club\",\"popularity\":26.222,\"poster_path\":\"\\/adw6Lq9FiC9zjYEpOqfq03ituwp.jpg\",\"original_language\":\"en\",\"original_title\":\"Fight Club\",\"genre_ids\":[18],\"backdrop_path\":\"\\/87hTDiay2N2qWyX4Ds7ybXi9h8I.jpg\",\"adult\":false,\"overview\":\"A ticking-time-bomb insomniac and a slippery soap salesman channel primal male aggression into a shocking new form of therapy. Their concept catches on, with underground \\\"fight clubs\\\" forming in every town, until an eccentric gets in the way and ignites an out-of-control spiral toward oblivion.\",\"release_date\":\"1999-10-15\"},{\"vote_count\":13127,\"id\":13,\"video\":false,\"vote_average\":8.4,\"title\":\"Forrest Gump\",\"popularity\":28.187,\"poster_path\":\"\\/yE5d3BUhE8hCnkMUJOo1QDoOGNz.jpg\",\"original_language\":\"en\",\"original_title\":\"Forrest Gump\",\"genre_ids\":[35,18,10749],\"backdrop_path\":\"\\/wMgbnUVS9wbRGAdki8fqxKU1O0N.jpg\",\"adult\":false,\"overview\":\"A man with a low IQ has accomplished great things in his life and been present during significant historic events—in each case, far exceeding what anyone imagined he could do. But despite all he has achieved, his one true love eludes him.\",\"release_date\":\"1994-07-06\"},{\"vote_count\":268,\"id\":18491,\"video\":false,\"vote_average\":8.4,\"title\":\"Neon Genesis Evangelion: The End of Evangelion\",\"popularity\":10.578,\"poster_path\":\"\\/5JYzfyKBwReaQ41WFhqXgOZnPWV.jpg\",\"original_language\":\"ja\",\"original_title\":\"新世紀エヴァンゲリオン劇場版 THE END OF EVANGELION\",\"genre_ids\":[18,878,16],\"backdrop_path\":\"\\/AfyuI3glMCBDFmNPj9PY6DwbgGp.jpg\",\"adult\":false,\"overview\":\"The second of two theatrically released follow-ups to the Neon Genesis Evangelion series. Comprising of two alternate episodes which were first intended to take the place of episodes 25 and 26, this finale answers many of the questions surrounding the series, while also opening up some new possibilities.\",\"release_date\":\"1997-07-19\"},{\"vote_count\":1317,\"id\":346,\"video\":false,\"vote_average\":8.4,\"title\":\"Seven Samurai\",\"popularity\":17.094,\"poster_path\":\"\\/v6xrz4fr92KY1oNC3HsEvrsvR1n.jpg\",\"original_language\":\"ja\",\"original_title\":\"七人の侍\",\"genre_ids\":[28,18],\"backdrop_path\":\"\\/61vLiK96sbXeHpQiMxI4CuqBA3z.jpg\",\"adult\":false,\"overview\":\"A samurai answers a village's request for protection after he falls on hard times. The town needs protection from bandits, so the samurai gathers six others to help him teach the people how to defend themselves, and the villagers provide the soldiers with food. A giant battle occurs when 40 bandits attack the village.\",\"release_date\":\"1954-04-26\"},{\"vote_count\":352,\"id\":40096,\"video\":false,\"vote_average\":8.4,\"title\":\"A Dog's Will\",\"popularity\":6.577,\"poster_path\":\"\\/uHEmM49YphluJnGep8Ef1qwD2QX.jpg\",\"original_language\":\"pt\",\"original_title\":\"O Auto da Compadecida\",\"genre_ids\":[12,35],\"backdrop_path\":\"\\/alQqTpmEkxSLgajfEYTsTH6nAKB.jpg\",\"adult\":false,\"overview\":\"The lively João Grilo and the sly Chicó are poor guys living in the hinterland who cheat a bunch of people in a small Northeast Brazil town. But when they die, they have to be judged by Christ, the Devil and the Virgin Mary, before they are admitted to paradise.\",\"release_date\":\"2000-09-15\"},{\"vote_count\":5006,\"id\":769,\"video\":false,\"vote_average\":8.4,\"title\":\"GoodFellas\",\"popularity\":20.945,\"poster_path\":\"\\/hAPeXBdGDGmXRPj4OZZ0poH65Iu.jpg\",\"original_language\":\"en\",\"original_title\":\"GoodFellas\",\"genre_ids\":[18,80],\"backdrop_path\":\"\\/sw7mordbZxgITU877yTpZCud90M.jpg\",\"adult\":false,\"overview\":\"The true story of Henry Hill, a half-Irish, half-Sicilian Brooklyn kid who is adopted by neighbourhood gangsters at an early age and climbs the ranks of a Mafia family under the guidance of Jimmy Conway.\",\"release_date\":\"1990-09-12\"},{\"vote_count\":4927,\"id\":510,\"video\":false,\"vote_average\":8.4,\"title\":\"One Flew Over the Cuckoo's Nest\",\"popularity\":23.087,\"poster_path\":\"\\/2Sns5oMb356JNdBHgBETjIpRYy9.jpg\",\"original_language\":\"en\",\"original_title\":\"One Flew Over the Cuckoo's Nest\",\"genre_ids\":[18],\"backdrop_path\":\"\\/4E7YQcwui0PfNXguf4V2X8YocPC.jpg\",\"adult\":false,\"overview\":\"While serving time for insanity at a state mental hospital, implacable rabble-rouser, Randle Patrick McMurphy inspires his fellow patients to rebel against the authoritarian rule of head nurse, Mildred Ratched.\",\"release_date\":\"1975-11-18\"}]}";

    @Test
    public void parseMovie() {
        Movie movie = JsonUtils.parseMovie(sampleMovie);
        assertThat(movie, notNullValue());
        assertThat(movie.getTitle(), is("Fight Club"));
        assertThat(movie.getPosterUrl(), is("/adw6Lq9FiC9zjYEpOqfq03ituwp.jpg"));
        assertThat(movie.getSynopsis(), is("A ticking-time-bomb insomniac and a slippery soap salesman channel primal male aggression into a shocking new form of therapy. Their concept catches on, with underground \"fight clubs\" forming in every town, until an eccentric gets in the way and ignites an out-of-control spiral toward oblivion."));
        assertThat(movie.getRating(), is(8.4d));
        assertThat(movie.getReleaseDate(), is("1999-10-15"));
    }

    @Test
    public void parsePopularMovies() {
        List<Movie> movies = JsonUtils.parseMovies(popularMovies);
        assertThat(movies, not(empty()));
        assertThat(movies, hasSize(20));
    }

    @Test
    public void parseTopRatedMovies() {
        List<Movie> movies = JsonUtils.parseMovies(topRatedMovies);
        assertThat(movies, not(empty()));
        assertThat(movies, hasSize(20));
    }
}
